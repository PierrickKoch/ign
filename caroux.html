<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<style>
body { padding: 0; margin: 0; }
html, body, #map { height: 100%; }
</style>

<body>
<div id="map"/>
</body>

<script>
////////////////////////////////////////////////////////////////////////////////
// https://mapsengine.google.com/map/viewer?mid=z43aQiY15xKc.kztQ9EuCQXQo
// https://mapsengine.google.com/map/kml?mid=z43aQiY15xKc.kztQ9EuCQXQo
// http://mapbox.github.io/togeojson/
var geojson = {"type":"FeatureCollection","features":[{"geometry":{"type":"Point","coordinates":[2.967521000000034,43.573702,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Parking","description":"43.573702, 2.967521"}},{"geometry":{"type":"Point","coordinates":[2.972898999999984,43.594402,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Refuge de Font Salesse"}},{"geometry":{"type":"Point","coordinates":[2.973529900000017,43.611116,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Douch"}},{"geometry":{"type":"Point","coordinates":[2.955743999999982,43.599822,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"H\u00e9ric"}},{"geometry":{"type":"Point","coordinates":[2.978821000000039,43.59089,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Table d'orientation","description":"43.590890, 2.978821"}},{"geometry":{"type":"LineString","coordinates":[[2.96754,43.57372,0],[2.96748,43.57374000000001,0],[2.96745,43.57374000000001,0],[2.96741,43.57371,0],[2.96729,43.57337,0],[2.9672,43.5733,0],[2.96722,43.57345,0],[2.96712,43.574000000000005,0],[2.96701,43.57425,0],[2.96668,43.5745,0],[2.96658,43.57474,0],[2.96647,43.57487,0],[2.96642,43.575,0],[2.96634,43.57516,0],[2.96629,43.57542,0],[2.96658,43.57557,0],[2.96643,43.57617,0],[2.96642,43.57674,0],[2.96644,43.57681,0],[2.96646,43.57681,0],[2.96649,43.5768,0],[2.96678,43.57654,0],[2.96679,43.57654,0],[2.96679,43.57653,0],[2.9668,43.57653,0],[2.9668,43.57654,0],[2.96681,43.57654,0],[2.96677,43.57662,0],[2.96678,43.57663,0],[2.96688,43.57656,0],[2.96689,43.57656,0],[2.96688,43.57672,0],[2.96688,43.57674,0],[2.967,43.57667,0],[2.96701,43.57667,0],[2.96711,43.57676,0],[2.96715,43.57676,0],[2.96746,43.57654,0],[2.96752,43.57669,0],[2.96761,43.57683,0],[2.96764,43.57683,0],[2.96775,43.57675,0],[2.96777,43.57676,0],[2.96783,43.57711,0],[2.96785,43.57711,0],[2.96792,43.57698,0],[2.96793,43.57697,0],[2.96795,43.57698,0],[2.9679,43.57786,0],[2.96799,43.57782,0],[2.96801,43.57783,0],[2.96804,43.57789,0],[2.96807,43.5778,0],[2.96811,43.57774,0],[2.96813,43.57775,0],[2.96815,43.57788,0],[2.96817,43.57788,0],[2.96828,43.57778,0],[2.96834,43.57792,0],[2.96828,43.578,0],[2.96813,43.57804,0],[2.96802,43.57812,0],[2.96785,43.57833,0],[2.96786,43.57837,0],[2.96792,43.57833,0],[2.96794,43.57834,0],[2.96794,43.57836,0],[2.96798,43.57836,0],[2.96797,43.57844,0],[2.96798,43.57845,0],[2.96803,43.57844,0],[2.96808,43.57852,0],[2.96807,43.57858,0],[2.96813,43.57859,0],[2.96821,43.57867,0],[2.96829,43.57884,0],[2.96834,43.57886,0],[2.96831,43.57896,0],[2.96834,43.57914,0],[2.96836,43.57919,0],[2.96841,43.57922,0],[2.96837,43.579330000000006,0],[2.96838,43.57934,0],[2.9685,43.57931,0],[2.96851,43.57931,0],[2.96854,43.5794,0],[2.96851,43.57954,0],[2.96853,43.57956,0],[2.96854,43.57956,0],[2.9687,43.5794,0],[2.96871,43.5794,0],[2.96864,43.57974,0],[2.96846,43.57996,0],[2.96845,43.57997,0],[2.96846,43.579980000000006,0],[2.96856,43.57996,0],[2.96857,43.57997,0],[2.96849,43.58004,0],[2.96825,43.58039,0],[2.96822,43.58051,0],[2.96827,43.58062,0],[2.96829,43.580630000000006,0],[2.9683,43.58062,0],[2.96831,43.58052,0],[2.96835,43.58044,0],[2.96845,43.58056,0],[2.96852,43.58092,0],[2.96854,43.58095,0],[2.96856,43.58094,0],[2.96857,43.5809,0],[2.96856,43.58068,0],[2.96858,43.58065,0],[2.96859,43.58065,0],[2.96861,43.58067,0],[2.9687,43.58108,0],[2.96872,43.5811,0],[2.96874,43.5811,0],[2.96881,43.58104,0],[2.96885,43.58103,0],[2.96886,43.58104,0],[2.96887,43.58117,0],[2.96889,43.58118,0],[2.96892,43.58116,0],[2.96896,43.58105,0],[2.969,43.58103,0],[2.96901,43.58103,0],[2.96903,43.58113,0],[2.96902,43.58121,0],[2.96904,43.58124,0],[2.96906,43.58122,0],[2.96908,43.58106000000001,0],[2.96911,43.58106000000001,0],[2.96914,43.58125,0],[2.96909,43.58186,0],[2.96908,43.58188,0],[2.96909,43.58189,0],[2.96911,43.58189,0],[2.96914,43.58184,0],[2.96917,43.58182,0],[2.96918,43.58184,0],[2.96917,43.58189,0],[2.96918,43.58191,0],[2.9692,43.58191,0],[2.96923,43.58187,0],[2.96925,43.58189,0],[2.96915,43.58226,0],[2.96901,43.58247,0],[2.969,43.58269,0],[2.96902,43.582710000000006,0],[2.96904,43.58269,0],[2.96904,43.58266,0],[2.96906,43.58264,0],[2.9691,43.58265,0],[2.96907,43.58316,0],[2.96917,43.58321,0],[2.96913,43.58333,0],[2.96916,43.58335,0],[2.9693,43.58332,0],[2.96933,43.58334,0],[2.96932,43.58345,0],[2.96933,43.58346,0],[2.96935,43.58346,0],[2.96937,43.58344,0],[2.96939,43.58345,0],[2.96938,43.58352,0],[2.96938,43.58353000000001,0],[2.9695,43.583490000000005,0],[2.96952,43.58351,0],[2.96944,43.58366000000001,0],[2.96945,43.58367,0],[2.96954,43.58362,0],[2.96956,43.58361,0],[2.96957,43.58364,0],[2.96956,43.58368,0],[2.96958,43.58368,0],[2.96965,43.58359,0],[2.96969,43.5836,0],[2.96942,43.584,0],[2.96943,43.58402,0],[2.96945,43.58403,0],[2.96975,43.58394,0],[2.96992,43.58379000000001,0],[2.96996,43.58372,0],[2.97,43.58371,0],[2.97006,43.58379000000001,0],[2.97009,43.58374,0],[2.97009,43.58372,0],[2.97011,43.58372,0],[2.97012,43.58373,0],[2.97013,43.5838,0],[2.97015,43.5838,0],[2.97018,43.58375,0],[2.9702,43.58375,0],[2.97024,43.58381,0],[2.97026,43.58381,0],[2.97027,43.5838,0],[2.97026,43.58374,0],[2.97026,43.58372,0],[2.97028,43.58372,0],[2.97032,43.58377,0],[2.97033,43.58382,0],[2.97034,43.58383,0],[2.97036,43.58378,0],[2.97037,43.58377,0],[2.9704,43.58378,0],[2.9704,43.5838,0],[2.97043,43.58384,0],[2.97046,43.58385,0],[2.97055,43.58383,0],[2.97059,43.58384,0],[2.97064,43.58393,0],[2.97072,43.58395,0],[2.97076,43.58392,0],[2.97079,43.58392,0],[2.97094,43.58403,0],[2.97104,43.58383,0],[2.97108,43.5838,0],[2.97132,43.5838,0],[2.97152,43.58386,0],[2.97234,43.58384,0],[2.97259,43.58382,0],[2.9728,43.58389,0],[2.97308,43.58393,0],[2.97318,43.58389,0],[2.97332,43.58372,0],[2.97362,43.58368,0],[2.97411,43.58339,0],[2.97448,43.58337,0],[2.97449,43.58338,0],[2.97451,43.58338,0],[2.9745200000000005,43.5834,0],[2.97446,43.58344,0],[2.97446,43.58346,0],[2.97448,43.58347,0],[2.97476,43.58351,0],[2.97467,43.58355,0],[2.97468,43.5836,0],[2.97475,43.58363,0],[2.97477,43.58371,0],[2.9747800000000004,43.58376,0],[2.97476,43.58379000000001,0],[2.9746,43.58387,0],[2.97459,43.58394,0],[2.97457,43.58399,0],[2.9744,43.58408,0],[2.97428,43.5841,0],[2.97425,43.58412,0],[2.97415,43.58432,0],[2.97412,43.58435,0],[2.97396,43.5844,0],[2.97392,43.58443,0],[2.97406,43.58456,0],[2.97423,43.58463,0],[2.9742600000000006,43.58466,0],[2.9742900000000003,43.58468,0],[2.97427,43.58474,0],[2.97427,43.58478,0],[2.97437,43.58483,0],[2.97467,43.58488,0],[2.97496,43.58493,0],[2.9750100000000006,43.58497,0],[2.97503,43.58506,0],[2.97502,43.58511,0],[2.97493,43.58524,0],[2.97489,43.58528,0],[2.9749,43.58533,0],[2.97509,43.58537,0],[2.97509,43.58545,0],[2.97507,43.58549,0],[2.97498,43.585570000000004,0],[2.97495,43.58559,0],[2.97456,43.58567,0],[2.9742600000000006,43.58576,0],[2.97422,43.58581,0],[2.97422,43.58588,0],[2.97427,43.58599,0],[2.97427,43.58603,0],[2.9742900000000003,43.58607,0],[2.9742900000000003,43.5864,0],[2.97437,43.58647,0],[2.97448,43.58652000000001,0],[2.9745500000000002,43.58658,0],[2.97453,43.58666,0],[2.9742600000000006,43.58669,0],[2.97423,43.58671,0],[2.97425,43.58679,0],[2.97422,43.58681,0],[2.97399,43.58684,0],[2.97392,43.586870000000005,0],[2.97386,43.58692,0],[2.97389,43.58698,0],[2.97415,43.58716,0],[2.9741300000000006,43.58722,0],[2.97411,43.58725,0],[2.9741,43.58733,0],[2.97398,43.5874,0],[2.97395,43.58743,0],[2.97395,43.58746,0],[2.97417,43.5876,0],[2.97432,43.58767,0],[2.97437,43.58772,0],[2.97437,43.58775,0],[2.97441,43.58781,0],[2.97446,43.58801,0],[2.97448,43.58818,0],[2.97475,43.58849,0],[2.97485,43.58865,0],[2.97484,43.58877,0],[2.97477,43.58887,0],[2.97476,43.58892,0],[2.97483,43.58927,0],[2.97482,43.58928,0],[2.9748,43.58928,0],[2.97472,43.58917,0],[2.9747,43.58917,0],[2.97469,43.58918,0],[2.97469,43.5892,0],[2.9748800000000006,43.5895,0],[2.97489,43.58951,0],[2.9748800000000006,43.58953,0],[2.97486,43.58953,0],[2.97474,43.58942,0],[2.97472,43.58941,0],[2.97469,43.58943,0],[2.97484,43.58964,0],[2.9748800000000006,43.58974,0],[2.97481,43.58978,0],[2.97459,43.58977000000001,0],[2.97457,43.58977000000001,0],[2.97456,43.58978,0],[2.97457,43.5898,0],[2.97464,43.58983,0],[2.9746500000000005,43.58983,0],[2.97466,43.58985,0],[2.9746500000000005,43.58986,0],[2.97456,43.58984,0],[2.97453,43.58984,0],[2.9745200000000005,43.58986,0],[2.97458,43.58992,0],[2.97458,43.58994,0],[2.97446,43.58994,0],[2.97445,43.58995,0],[2.9745,43.59,0],[2.9745,43.59002,0],[2.97436,43.59,0],[2.97435,43.59001,0],[2.97438,43.59017,0],[2.97435,43.59019,0],[2.97415,43.59020000000001,0],[2.97411,43.59022,0],[2.9741300000000006,43.59031,0],[2.97424,43.59043,0],[2.97458,43.59053,0],[2.97469,43.5906,0],[2.97466,43.59064,0],[2.97459,43.590680000000006,0],[2.97453,43.59076,0],[2.97454,43.59087,0],[2.97454,43.5909,0],[2.97447,43.59096,0],[2.97427,43.591,0],[2.97418,43.59104,0],[2.9740300000000004,43.59118,0],[2.97396,43.59129,0],[2.97396,43.59139,0],[2.97387,43.59164,0],[2.97388,43.59175,0],[2.97385,43.59178,0],[2.9738,43.59194,0],[2.97376,43.59201,0],[2.97373,43.59202,0],[2.97366,43.59225,0],[2.9736,43.59235,0],[2.97357,43.59237,0],[2.97347,43.59279,0],[2.9734,43.59291,0],[2.97339,43.59305,0],[2.97324,43.593410000000006,0],[2.97318,43.59375,0],[2.97295,43.59433,0],[2.97286,43.59435,0],[2.97284,43.59437,0],[2.97269,43.59485,0],[2.9726,43.59544,0],[2.97259,43.595490000000005,0],[2.97254,43.59556,0],[2.9724000000000004,43.59639,0],[2.97254,43.59657,0],[2.9726300000000005,43.59658,0],[2.97267,43.59656,0],[2.97271,43.59656,0],[2.97274,43.59658,0],[2.97277,43.59665,0],[2.97278,43.59681,0],[2.9728900000000005,43.59703,0],[2.97305,43.59763,0],[2.97308,43.59767,0],[2.9731500000000004,43.59771,0],[2.97323,43.59784,0],[2.97335,43.59819,0],[2.97345,43.59829,0],[2.97352,43.59829,0],[2.97355,43.59827,0],[2.97358,43.59827,0],[2.97368,43.598220000000005,0],[2.97374,43.59816,0],[2.97383,43.59818,0],[2.97384,43.59819,0],[2.97387,43.59818,0],[2.97388,43.59817,0],[2.97392,43.59818,0],[2.97396,43.598220000000005,0],[2.97396,43.59828,0],[2.97397,43.59838,0],[2.97415,43.59865,0],[2.97418,43.59871,0],[2.97421,43.59902,0],[2.97457,43.59962,0],[2.97436,43.59994,0],[2.97435,43.59996,0],[2.97436,43.60001,0],[2.97441,43.60008,0],[2.9744,43.60013,0],[2.97437,43.60016,0],[2.9742900000000003,43.60019,0],[2.97424,43.60024,0],[2.97415,43.60062,0],[2.97408,43.60087,0],[2.97409,43.60108,0],[2.97399,43.60164,0],[2.97388,43.60215,0],[2.9739000000000004,43.60377,0],[2.9740000000000006,43.60414,0],[2.97406,43.60425,0],[2.97409,43.60462,0],[2.97406,43.60468,0],[2.97405,43.60495,0],[2.9741300000000006,43.60513,0],[2.97414,43.60517,0],[2.97412,43.60521,0],[2.97424,43.60564,0],[2.9743,43.60574,0],[2.97431,43.6058,0],[2.97419,43.60602,0],[2.97411,43.60611,0],[2.9741,43.60621,0],[2.9740300000000004,43.60625,0],[2.97401,43.6063,0],[2.97402,43.60636,0],[2.97399,43.60652,0],[2.97355,43.60705,0],[2.97335,43.60744,0],[2.97329,43.60759,0],[2.9733,43.60775,0],[2.97323,43.60805,0],[2.97327,43.6083,0],[2.97319,43.60836,0],[2.97314,43.60856,0],[2.9730200000000004,43.60882,0],[2.973,43.60891,0],[2.97307,43.60898,0],[2.97306,43.60906,0],[2.97267,43.60992,0],[2.97257,43.61003,0],[2.97249,43.61007,0],[2.97259,43.61017,0],[2.97281,43.61029,0],[2.97297,43.61048,0],[2.97298,43.61063,0],[2.97307,43.61074000000001,0],[2.97297,43.61103,0],[2.97301,43.61106,0],[2.97323,43.61105,0],[2.97331,43.61105,0],[2.97344,43.61114,0],[2.9736700000000003,43.61119,0],[2.97376,43.61116,0],[2.97387,43.61102,0],[2.97389,43.61096,0],[2.97387,43.61088,0],[2.97355,43.6108,0],[2.97323,43.6108,0],[2.9731,43.61076,0],[2.97298,43.61063,0],[2.97295,43.61062,0],[2.97271,43.61036,0],[2.97244,43.61029,0],[2.97215,43.61011,0],[2.97203,43.61005,0],[2.97181,43.60979,0],[2.97159,43.6093,0],[2.9716,43.60913,0],[2.97118,43.60898,0],[2.97099,43.6089,0],[2.97095,43.60886,0],[2.97091,43.60876,0],[2.97087,43.60872,0],[2.97075,43.60872,0],[2.97037,43.60861,0],[2.97017,43.60862,0],[2.96974,43.60848,0],[2.96913,43.60798,0],[2.96905,43.60791,0],[2.96902,43.6078,0],[2.96898,43.60769,0],[2.96885,43.6076,0],[2.96879,43.60754,0],[2.96845,43.60698,0],[2.96841,43.60696,0],[2.96836,43.607,0],[2.96828,43.60715,0],[2.96798,43.60698,0],[2.96794,43.60698,0],[2.96793,43.60704,0],[2.9679,43.60705,0],[2.96785,43.60704,0],[2.9678,43.607,0],[2.96776,43.60692,0],[2.96762,43.60679,0],[2.9676,43.60676,0],[2.9675,43.60676,0],[2.96734,43.6066,0],[2.96727,43.60661,0],[2.96715,43.60669,0],[2.9671,43.60669,0],[2.96699,43.60657,0],[2.96693,43.60659,0],[2.96689,43.60664,0],[2.96682,43.60667,0],[2.96678,43.60663,0],[2.9667,43.60658000000001,0],[2.96667,43.6066,0],[2.96666,43.60663,0],[2.96662,43.60661,0],[2.96651,43.60647,0],[2.96645,43.60634,0],[2.96623,43.60609,0],[2.96619,43.60586,0],[2.96612,43.60586,0],[2.96609,43.60585,0],[2.96607,43.60581,0],[2.96602,43.60578,0],[2.96597,43.60581,0],[2.9659500000000003,43.60579,0],[2.96594,43.60574,0],[2.96581,43.60561,0],[2.96576,43.60544,0],[2.96568,43.6053,0],[2.96568,43.60523,0],[2.96554,43.60497,0],[2.96549,43.604760000000006,0],[2.96539,43.60458,0],[2.96534,43.60452,0],[2.96528,43.60450000000001,0],[2.96528,43.60446,0],[2.96524,43.6044,0],[2.9651700000000005,43.6044,0],[2.96506,43.60446,0],[2.96505,43.60445,0],[2.96505,43.60438,0],[2.96506,43.60435,0],[2.96505,43.604330000000004,0],[2.96501,43.60432,0],[2.96495,43.60438,0],[2.9649,43.6043,0],[2.96488,43.60428,0],[2.96484,43.60429,0],[2.9648,43.604330000000004,0],[2.96479,43.60437,0],[2.9648100000000004,43.60441,0],[2.9647800000000006,43.60453,0],[2.96473,43.6046,0],[2.9646800000000004,43.60462,0],[2.96462,43.60458,0],[2.96431,43.60417,0],[2.9643,43.604110000000006,0],[2.96426,43.60408,0],[2.96418,43.6041,0],[2.96415,43.60415,0],[2.96411,43.60417,0],[2.96399,43.6041,0],[2.96395,43.6041,0],[2.96391,43.60416,0],[2.96383,43.60419,0],[2.96371,43.60414,0],[2.9636,43.60419,0],[2.96348,43.60416,0],[2.96345,43.60413,0],[2.96346,43.60404,0],[2.9633,43.60394,0],[2.96324,43.60388,0],[2.96319,43.6038,0],[2.96322,43.60367,0],[2.96273,43.60339,0],[2.96265,43.60331,0],[2.9626,43.60329,0],[2.96257,43.6033,0],[2.9625300000000006,43.6034,0],[2.96249,43.60342,0],[2.9623000000000004,43.60338,0],[2.96199,43.60342,0],[2.962,43.60335,0],[2.96212,43.60325,0],[2.96215,43.60322,0],[2.9621400000000007,43.60317,0],[2.96201,43.60312,0],[2.96157,43.60309,0],[2.9615,43.60308,0],[2.96143,43.6031,0],[2.96094,43.60309,0],[2.96023,43.60294,0],[2.96004,43.60283,0],[2.95987,43.60278,0],[2.95933,43.60243,0],[2.95917,43.60229,0],[2.9591,43.60212,0],[2.95896,43.60195,0],[2.9586,43.60164,0],[2.95852,43.60154,0],[2.95782,43.60107,0],[2.95779,43.60106,0],[2.95771,43.60107,0],[2.95768,43.601,0],[2.95765,43.60098,0],[2.95753,43.60099000000001,0],[2.9575,43.600950000000005,0],[2.95751,43.60089,0],[2.95748,43.60087,0],[2.95738,43.6009,0],[2.95726,43.6008,0],[2.95725,43.60072,0],[2.95728,43.60062,0],[2.95728,43.60061,0],[2.95712,43.60060000000001,0],[2.95715,43.60051,0],[2.95715,43.60048,0],[2.95712,43.60048,0],[2.95709,43.60046,0],[2.95698,43.60048,0],[2.95677,43.60046,0],[2.95666,43.60036,0],[2.95664,43.60033,0],[2.95659,43.60031,0],[2.95652,43.60032,0],[2.95642,43.600300000000004,0],[2.95638,43.60028,0],[2.9563,43.60018,0],[2.95625,43.60013,0],[2.95618,43.60002,0],[2.95608,43.59994,0],[2.95604,43.59992,0],[2.95599,43.59986,0],[2.95596,43.59981,0],[2.95599,43.59979,0],[2.95598,43.59976,0],[2.95591,43.59966,0],[2.95589,43.59962,0],[2.9559,43.59955,0],[2.95593,43.59951,0],[2.95596,43.59939,0],[2.95584,43.59926,0],[2.95545,43.59898,0],[2.95534,43.59896,0],[2.95522,43.5989,0],[2.95491,43.598870000000005,0],[2.95474,43.59893,0],[2.9540900000000003,43.59874,0],[2.95296,43.59856,0],[2.95257,43.59832,0],[2.95234,43.59805,0],[2.95183,43.59771,0],[2.95167,43.59764,0],[2.95151,43.59745,0],[2.95112,43.59715,0],[2.9508000000000005,43.59673,0],[2.95068,43.59664,0],[2.95061,43.59653,0],[2.95056,43.59651,0],[2.95052,43.59652,0],[2.9505,43.59655,0],[2.9506700000000006,43.59684,0],[2.95082,43.59726,0],[2.95079,43.59729,0],[2.95069,43.59728,0],[2.95051,43.59716,0],[2.95034,43.59709000000001,0],[2.95016,43.59695,0],[2.9500800000000003,43.59685,0],[2.94999,43.59661,0],[2.94998,43.5965,0],[2.95002,43.59634,0],[2.9503100000000004,43.59578,0],[2.95068,43.59475,0],[2.95102,43.59411,0],[2.95099,43.59372,0],[2.9509300000000005,43.59356,0],[2.95069,43.59334,0],[2.9497900000000006,43.59279,0],[2.94976,43.59271,0],[2.94974,43.59232,0],[2.94967,43.59207,0],[2.9496600000000006,43.59196,0],[2.9496900000000004,43.59188,0],[2.95006,43.59156,0],[2.95045,43.591330000000006,0],[2.95065,43.59123,0],[2.95098,43.59098,0],[2.95105,43.59088,0],[2.95109,43.59076,0],[2.95111,43.59061,0],[2.95108,43.59028,0],[2.951,43.59008,0],[2.95102,43.58974,0],[2.95138,43.58824,0],[2.95146,43.58801,0],[2.9515500000000006,43.58793,0],[2.9516800000000005,43.58789,0],[2.95301,43.5878,0],[2.95407,43.58793,0],[2.95423,43.58799,0],[2.95449,43.58814,0],[2.95476,43.58823,0],[2.95506,43.5884,0],[2.95524,43.58848,0],[2.95538,43.58857,0],[2.95548,43.58860000000001,0],[2.95575,43.58857,0],[2.95595,43.58864,0],[2.95609,43.58879,0],[2.95627,43.58888,0],[2.95649,43.58891,0],[2.9568,43.58883,0],[2.95686,43.5888,0],[2.95692,43.588730000000005,0],[2.95695,43.58819,0],[2.95696,43.58803,0],[2.95706,43.58767,0],[2.95705,43.58753,0],[2.95699,43.5874,0],[2.95696,43.58714,0],[2.95699,43.58704000000001,0],[2.95731,43.58684,0],[2.95765,43.58673,0],[2.95773,43.58664,0],[2.95821,43.58632,0],[2.95835,43.58619,0],[2.95848,43.58598,0],[2.9587,43.58577,0],[2.95893,43.58573,0],[2.95923,43.58566,0],[2.95936,43.58556,0],[2.9597600000000006,43.58457000000001,0],[2.95975,43.58445,0],[2.95987,43.58429,0],[2.95994,43.58424,0],[2.9616800000000003,43.58385,0],[2.96199,43.58386,0],[2.96223,43.58382,0],[2.96267,43.58366000000001,0],[2.96289,43.58352,0],[2.9635,43.58331,0],[2.96371,43.58315,0],[2.96424,43.58305,0],[2.9642900000000005,43.58306,0],[2.96437,43.58302,0],[2.96459,43.5826,0],[2.96457,43.58244,0],[2.96463,43.58223000000001,0],[2.96476,43.58207,0],[2.96486,43.58188,0],[2.9648100000000004,43.58166,0],[2.96492,43.581410000000005,0],[2.9652000000000003,43.58121,0],[2.96527,43.58104,0],[2.96529,43.58080000000001,0],[2.96528,43.58075,0],[2.96485,43.58018,0],[2.9648,43.58006,0],[2.96479,43.58004,0],[2.96487,43.579460000000005,0],[2.96499,43.579330000000006,0],[2.96528,43.57921,0],[2.96547,43.57904,0],[2.96562,43.57896,0],[2.9659,43.57885000000001,0],[2.96601,43.57876,0],[2.96604,43.57871,0],[2.96606,43.57861,0],[2.96618,43.57848,0],[2.96632,43.57818,0],[2.96627,43.57787,0],[2.9662100000000002,43.57771,0],[2.96615,43.57765,0],[2.96612,43.57758,0],[2.96591,43.57735,0],[2.96579,43.5773,0],[2.96566,43.57729,0],[2.9655600000000004,43.57725000000001,0],[2.96551,43.57721,0],[2.96548,43.57713,0],[2.96548,43.57709,0],[2.9656,43.57693,0],[2.96567,43.57677000000001,0],[2.9657,43.57645,0],[2.96576,43.57627,0],[2.96605,43.57585,0],[2.96623,43.57569,0],[2.96627,43.5756,0],[2.96634,43.57516,0],[2.96647,43.57487,0],[2.96658,43.57474,0],[2.96668,43.5745,0],[2.96704,43.57421,0],[2.96712,43.574000000000005,0],[2.96722,43.57345,0],[2.9672,43.5733,0],[2.96729,43.57337,0],[2.96739,43.57367,0],[2.96741,43.57371,0],[2.96745,43.57374000000001,0],[2.96753,43.57372,0],[2.96754,43.57372,0]]},"type":"Feature","properties":{"styleHash":"576c1d20","styleUrl":"#line-1267FF-5","name":"Directions from Parking to Parking"}},{"geometry":{"type":"Point","coordinates":[2.9675399,43.5737173,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Parking","description":"Verdier-Haut, 34390 Mons, France"}},{"geometry":{"type":"Point","coordinates":[2.9675399,43.5737173,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Parking","description":"Verdier-Haut, 34390 Mons, France"}},{"geometry":{"type":"LineString","coordinates":[[2.97284,43.59437,0],[2.97286,43.59435,0],[2.97288,43.59434,0],[2.97291,43.59433,0],[2.97295,43.59433,0],[2.97309,43.59434,0],[2.97332,43.59436000000001,0],[2.97345,43.59437,0],[2.9735400000000003,43.59437,0],[2.97357,43.59436000000001,0],[2.97358,43.59435,0],[2.97362,43.59433,0],[2.97375,43.594190000000005,0],[2.97381,43.59414,0],[2.97384,43.59413,0],[2.9739000000000004,43.59411,0],[2.97394,43.59411,0],[2.97401,43.59398,0],[2.9740300000000004,43.59395,0],[2.97405,43.59385,0],[2.97407,43.59381,0],[2.9743900000000005,43.59352,0],[2.9744200000000003,43.59348,0],[2.97446,43.5934,0],[2.97447,43.59331,0],[2.97451,43.59322,0],[2.97454,43.59318,0],[2.97475,43.59295,0],[2.97477,43.592890000000004,0],[2.97483,43.59284,0],[2.97495,43.59266,0],[2.9750100000000006,43.5926,0],[2.9751,43.59238,0],[2.9751700000000003,43.5923,0],[2.97524,43.59217,0],[2.97529,43.5921,0],[2.97533,43.59203,0],[2.9754000000000005,43.59195,0],[2.97544,43.59193,0],[2.97548,43.59193,0],[2.9755300000000005,43.59192,0],[2.97557,43.59192,0],[2.9756300000000007,43.59191,0],[2.97568,43.5919,0],[2.97573,43.59188,0],[2.9758,43.59184,0],[2.97584,43.59183,0],[2.97596,43.59182,0],[2.97603,43.59182,0],[2.97609,43.59182,0],[2.9761500000000005,43.59182,0],[2.97619,43.59181,0],[2.97622,43.5918,0],[2.97625,43.59178,0],[2.9762800000000005,43.59174,0],[2.97632,43.5917,0],[2.97634,43.59169,0],[2.97639,43.59166,0],[2.97644,43.59163000000001,0],[2.97647,43.59161,0],[2.97651,43.59158,0],[2.97655,43.59155,0],[2.9766,43.59152,0],[2.9766700000000004,43.59149,0],[2.97678,43.59142,0],[2.97683,43.59139,0],[2.97689,43.59134,0],[2.97694,43.59131,0],[2.97699,43.59126,0],[2.9770300000000005,43.59123,0],[2.97711,43.59119,0],[2.97717,43.59116,0],[2.97722,43.59115,0],[2.97728,43.59114,0],[2.97734,43.59114,0],[2.97739,43.59114,0],[2.97752,43.59113,0],[2.97762,43.59113,0],[2.97769,43.59112,0],[2.97775,43.59112,0],[2.97782,43.59112,0],[2.97789,43.59111,0],[2.97801,43.59111,0],[2.97814,43.59109,0],[2.9782,43.59107,0],[2.97826,43.59106,0],[2.97832,43.59104,0],[2.97837,43.59102,0],[2.97844,43.59099,0],[2.97859,43.59093,0],[2.97863,43.59091,0],[2.97868,43.5909,0],[2.97871,43.59089,0],[2.97879,43.59089,0],[2.97882,43.59088,0],[2.97882,43.59089,0]]},"type":"Feature","properties":{"styleHash":"576c1d20","styleUrl":"#line-1267FF-5","name":"Directions from Refuge de Font Salesse to Table d'orientation"}},{"geometry":{"type":"Point","coordinates":[2.9728423,43.594371,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Refuge de Font Salesse","description":"Unnamed Road, 34390 Mons, France"}},{"geometry":{"type":"Point","coordinates":[2.9788223,43.5908865,0]},"type":"Feature","properties":{"styleHash":"1027d25d","styleUrl":"#icon-503-DB4436","name":"Table d'orientation","description":"Unnamed Road, 34610 Saint-Martin-de-l'Ar\u00e7on, France"}}]}

////////////////////////////////////////////////////////////////////////////////
// http://depot.ign.fr/geoportail/api/develop/tech-docs-js/examples/js/geoportalLeaflet.js
// https://github.com/mylen/leaflet.TileLayer.WMTS

L.TileLayer.WMTS = L.TileLayer.extend({

    defaultWmtsParams: {
        service: 'WMTS',
        request: 'GetTile',
        version: '1.0.0',
        layer: '',
        style: '',
        tilematrixSet: '',
        format: 'image/jpeg'
    },

    initialize: function (url, options) { // (String, Object)
        this._url = url;
        var wmtsParams = L.extend({}, this.defaultWmtsParams),
            tileSize = options.tileSize || this.options.tileSize;
        if (options.detectRetina && L.Browser.retina) {
            wmtsParams.width = wmtsParams.height = tileSize * 2;
        } else {
            wmtsParams.width = wmtsParams.height = tileSize;
        }
        for (var i in options) {
            // all keys that are not TileLayer options go to WMTS params
            if (!this.options.hasOwnProperty(i) && i!="matrixIds") {
                wmtsParams[i] = options[i];
            }
        }
        this.wmtsParams = wmtsParams;
        this.matrixIds = options.matrixIds||this.getDefaultMatrix();
        L.setOptions(this, options);
    },

    onAdd: function (map) {
        L.TileLayer.prototype.onAdd.call(this, map);
    },

    getTileUrl: function (tilePoint, zoom) { // (Point, Number) -> String
        var map = this._map;
        crs = map.options.crs;
        tileSize = this.options.tileSize;
        nwPoint = tilePoint.multiplyBy(tileSize);
        //+/-1 in order to be on the tile
        nwPoint.x+=1;
        nwPoint.y-=1;
        sePoint = nwPoint.add(new L.Point(tileSize, tileSize));
        nw = crs.project(map.unproject(nwPoint, zoom));
        se = crs.project(map.unproject(sePoint, zoom));
        tilewidth = se.x-nw.x;
        zoom=map.getZoom();
        ident = this.matrixIds[zoom].identifier;
        X0 = this.matrixIds[zoom].topLeftCorner.lng;
        Y0 = this.matrixIds[zoom].topLeftCorner.lat;
        tilecol=Math.floor((nw.x-X0)/tilewidth);
        tilerow=-Math.floor((nw.y-Y0)/tilewidth);
        url = L.Util.template(this._url, {s: this._getSubdomain(tilePoint)});
        return url + L.Util.getParamString(this.wmtsParams, url) + "&tilematrix=" + ident + "&tilerow=" + tilerow +"&tilecol=" + tilecol ;
    },

    setParams: function (params, noRedraw) {
        L.extend(this.wmtsParams, params);
        if (!noRedraw) {
            this.redraw();
        }
        return this;
    },

    getDefaultMatrix : function () {
        /**
         * the matrix3857 represents the projection
         * for in the IGN WMTS for the google coordinates.
         */
        var matrixIds3857 = new Array(22);
        for (var i= 0; i<22; i++) {
            matrixIds3857[i]= {
                identifier    : "" + i,
                topLeftCorner : new L.LatLng(20037508,-20037508)
            };
        }
        return matrixIds3857;
    }
});

L.tileLayer.wmts = function (url, options) {
    return new L.TileLayer.WMTS(url, options);
};

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

var map = L.map('map').setView([43.573, 2.967], 15);
// renew key: http://api.ign.fr
var key = "daz8r2jylpwzyk7axzw545rd";
var url = "http://wxs.ign.fr/" + key + "/geoportail/wmts";
var ign = L.tileLayer.wmts(url, {
    layer: "GEOGRAPHICALGRIDSYSTEMS.MAPS",
    style: "normal",
    tilematrixSet: "PM",
});
var ort = L.tileLayer.wmts(url, {
    layer: "ORTHOIMAGERY.ORTHOPHOTOS",
    style: "normal",
    tilematrixSet: "PM",
});
var osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);
L.control.scale({'imperial': false}).addTo(map);
L.geoJson(geojson).addTo(map);
L.control.layers({
    "IGN": ign,
    "IGN-ORTHOIMAGERY": ort,
    "OSM": osm,
}).addTo(map);
</script>
